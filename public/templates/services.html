<div ng-include=" 'templates/menubar.html' "></div>
<div class="row">
    <div>
        <div class="large-12 columns">
          <ul class="inline-list" >
            <li><a href="#/servicetypes"><button class="button tiny secondary radius">ServiceType</button></a></li>
            <li><a href="#/providers"><button class="button tiny secondary radius">Providers</button></a></li>
          </ul>
      </div>
    </div>
</div>
<div class="row">
    <div class="large-12 columns">
        <form>
            <div ng-show="advSearch" class="large-3 columns">
                <label>Start:</label><input type="date" name="Start" placeholder="start" ng-model="search.start" />
            </div>
            <div ng-show="advSearch" class="large-3 columns">
                <label>End:</label><input type="date" name="Start" placeholder="End" ng-model="search.end" />
            </div>
            <div ng-show="advSearch" class="large-2 columns">
                <label>Type:</label><select ng-model="search.type" ng-options="item.id as item.name for item in testTypes"> </select>
            </div>
            <div ng-show="advSearch" class="large-2 columns">
                <label>Provider:</label><select ng-model="search.provider" ng-options="prov.id as prov.name for prov in providerList"></select>
            </div>
            <div class="large-2 columns">
                <button class="button tiny secondary radius" ng-click="advSearch = !advSearch">{{ !advSearch | plusminus }}Adv. Search</button>
            </div>
        </form>
    </div>
</div>
<div class="row">
    <div class="large-4 columns">
        <input ng-show="myValue" type="text" ng-model="searchBar" class="search-query" placeholder="Search">
    </div>
    <div class="large-2 large-offset-2 columns">
        <button ng-click="hide()" class="button small radius">{{ buttonText }}</button>
    </div>
</div>
<div ng-include=" 'templates/addservice.html' " ng-hide="myValue"></div>
<div class="row" ng-show="myValue">
    <h3>Total: {{ total() | currency }}</h3>
<div class="large-12">

<angular-table model="services" default-sort-column="end_date">
    <header-row>
        <header-column sortable="true" sort-field-name="start_date">
            <div style="display: inline-block;">Started</div>
            <sort-arrow-ascending></sort-arrow-ascending>
            <sort-arrow-descending></sort-arrow-descending>
        </header-column>
        <header-column sortable="true" sort-field-name="end_date">
            <div style="display: inline-block;">Finished</div>
            <sort-arrow-ascending></sort-arrow-ascending>
            <sort-arrow-descending></sort-arrow-descending>
        </header-column>
        <header-column sortable="true" sort-field-name="provider.name">
            <div style="display: inline-block;">Provider</div>
            <sort-arrow-ascending></sort-arrow-ascending>
            <sort-arrow-descending></sort-arrow-descending>
        </header-column>
        <header-column sortable="true" sort-field-name="cost">
            <div style="display: inline-block;">Cost</div>
            <sort-arrow-ascending></sort-arrow-ascending>
            <sort-arrow-descending></sort-arrow-descending>
        </header-column>
	<header-column sortable="true" sort-field-name="servicetype.name">
            <div style="display: inline-block;">Type</div>
            <sort-arrow-ascending></sort-arrow-ascending>
            <sort-arrow-descending></sort-arrow-descending>
        </header-column>
        <header-column sortable="true" sort-field-name="notes">
            <div style="display: inline-block;">Note</div>
            <sort-arrow-ascending></sort-arrow-ascending>
            <sort-arrow-descending></sort-arrow-descending>
        </header-column>
    </header-row>

    <row on-selected="handleRowSelection(row)" selected-color="#87cefa" 
        even-color="#ffffff" odd-color="#eeeeee">
        <column>{{ row.start_date }}</column>
        <column>{{ row.end_date }}</column>
        <column>{{ row.provider.name }}</column>
	<column>{{ row.cost | currency }}</column>
	<column>{{ row.servicetype.name }}</column>
        <column>{{ row.notes }}</input></column>
    </row>
</angular-table>
</div>
